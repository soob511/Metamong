<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mycompany.metamong.daoSub3.Sub3IndexDao">

	<select id="selectIndex" resultType="Index">
		SELECT 
			i.index_name, user schema_name,i.table_name, ic.column_name, i.uniqueness
		FROM 
			user_indexes i
		JOIN 
			user_ind_columns ic ON i.index_name = ic.index_name
		ORDER BY i.index_name, ic.column_position
	</select>
	
	<select id="selectIndexByName" parameterType="String" resultType="Index">
		SELECT
			i.index_name, user schema_name,i.table_name, ic.column_name, i.uniqueness
		FROM
			user_indexes i
		JOIN
			user_ind_columns ic ON i.index_name = ic.index_name
		WHERE 
			i.index_name = #{indexName}
		ORDER BY i.index_name, ic.column_position
	</select>

</mapper>